# SSH

## SSH
- **SSH**(Secure Shell, Secure Socket Shell) : 원격 서버(컴퓨터)에 연결할 수 있도록 암호화된 네트워크 프로토콜
  - 암호화를 통해 호스트와 클라이언트가 안전하게 통신할 수 있음
  - 클라이언트가 원격 서버의 터미널에 접속하여 명령어를 입력하면, 호스트가 명령 실행 결과를 클라이언트에게 전달 
- `ssh user@host -p PORT -i [개인 키 파일 경로]`
  - 'user` : 원격 서버에 존재하는 계정 이름
    - SSH 접속은 **서버의 계정**으로 함 (항상 원격 서버에 이미 존재하는 계정으로 접속해야 함)
  - `HOST` : 접속하려는 원격 서버의 IP 또는 도메인 작성 
  - 특정 포트로 접속하고 싶은 경우 `-p` 옵션 이용 (SSH의 기본 포트 = 22)
  - `-i 개인키파일` : 공개키 인증을 쓸 때 사용하는 옵션
### 클라이언트가 믿을만한 사용자인지 인증하는 방법
(1) 패스워드로 인증
- `ssh user@HOST` 실행 : 패스워드를 입력한 뒤 원격 서버에 접속 가능
- 접속 과정
  - (1) 클라이언트가 SSH 서버에 접속 요청
  - (2) 서버가 비밀번호 인증을 허용한 경우, 사용자가 원격 서버 계정의 비밀번호 입력
  - (3) 서버가 비밀번호를 검증
  - (4) 일치하면 인증 성공 -> 접속 허용
- 패스워드를 충분히 긴 길이로 설정하지 않으면 브루트 포스 공격을 통해 패스워드를 유추할 수 있다는 위험 존재
  - 브루트 포스 공격 : 가능한 모든 비밀번호를 자동으로 다 시도하는 공격
(2) 공개키/ 개인키 인증
- 클라이언트 : 개인키 보관
- 서버 : 공개키 저장
- 접속 과정
  - (1) 클라이언트가 개인 키를 사용하겠다고 서버에 알림
  - (2) 서버가 임의의 메세지를 생성하여 서명 요청
  - (3) 클라이언트가 개인 키로 메세지에 서명
  - (4) 서버가 저장된 공개 키로 서명 검증
  - (5) 검증 성공 시 사용자 인증 완료
- 개인 키는 절대 네트워크로 전송되지 않음
