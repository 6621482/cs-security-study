# Flask

## 웹 서버
- **웹 서버(Web Server)** : 요청을 받으면 응답을 돌려주는 프로그램
  - 브라우저의 요청을 처리해서 알맞은 웹 페이지를 반환하도록 논리 흐름이 구현된 프로그램
    
### 웹 서버 개발
1. 프레임워크 없이 직접 만드는 경우
   - (1) 네트워크 연결 : 브라우저와 통신하기 위해 TCP 소켓을 맺음
   - (2) 데이터 수신: 소켓을 통해 들어오는 원시 데이터를 받음
   - (3) 프로토콜 검사: 받은 데이터가 올바른 HTTP 요청인지 규격에 맞게 검사함
   - (4) 정보 추출: 어떤 페이지(/home 등)를 원하는지 경로를 찾아냄
   - (5) 파일 처리: 서버 컴퓨터의 저장소에서 해당 HTML 파일을 찾아서 엶
   - (6) 메모리 로드: 파일 내용을 읽어 메모리에 임시로 담음
   - (7) 응답 구성: HTTP 표준 규격에 맞춰 응답 메시지 형식을 만듦
   - (8) 데이터 포함: 준비된 HTML 내용을 응답 메시지에 넣음
   - (9) 전송: 최종 완성된 데이터를 다시 브라우저로 보냄
2. 웹 프레임워크를 사용하는 경우

### 웹 프레임워크
> Don't reinvent the wheel
- 정의 : 웹 개발을 위해 반복적이거나 기본적으로 필요한 기능과 뼈대를 미리 만들어 제공하는 개발 환경
- 사용 이유 : 불필요한 과정에 신경쓰지 않고, 오직 웹 서버의 논리 흐름 설계에 집중할 수 있어서 생산적인 개발이 가능해짐

## Flask
- Flask : Python을 기반으로 하는 웹 프레임워크
```
flask-app
├── app.py
└── templates
    └── simple_page.html
```
- flask-app : 최상위 디렉토리
- flask-app/app.py : 웹 서버 파일
- flask-app/templates : HTML 문서들을 담는 디렉토리 (별도로 Flask 프레임워크에서 설정하지 않는 이상 반드시 templates라는 이름으로 존재해야 하는 디렉토리)
- flask-app/templates/simple_page.html : HTML 문서 파일

- `$ python3 app.py' : app.py를 python으로 실행하면 Flask 웹 서버가 구동됨
  - `Running On all addresses (0.0.0.0)` : Flask 서버가 모든 공인 IP로부터 요청을 받아들인다는 의미
    - 이 문구가 뜨면 다른 외부 네트워크의 이용자가 본 웹 서버로 접속할 수 있음
    - `0.0.0.0` : 네트워크 상의 모든 IOv4 주소 
  - `Running on http://127.0.0.1:31337` : 로컬호스트에서도 웹 서버에 접근할 수 있다는 의미
    - 웹 서비스가 31337포트로 열려 있으며, URL 주소인 `http://127.0.0.1:31337`로 접근할 수 있음
    - 웹 서버가 실행 중인 현재 컴퓨터에 접근할 수 있음
    - `127.0.0.1` : 로컬 호스트, 컴퓨터 자기 자신을 가리키는 루프백 주소
  - `Running on http://10.0.2.15:31337` : 웹 서버의 특정 네트워크 인터페이스에 할당된 로컬 IP 주소
    - 로컬 네트워크 내에서도 본 웹 서버에 접근할 수 있음 
